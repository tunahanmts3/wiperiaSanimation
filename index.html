<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Wiperia Sanimation</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#141414;
  color:white;
}

/* LOGIN */
.center{
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.box{
  background:#222;
  padding:30px;
  border-radius:10px;
  width:320px;
  text-align:center;
}

input{
  width:90%;
  padding:10px;
  margin:8px 0;
  border-radius:5px;
  border:none;
}

button{
  padding:10px 15px;
  margin:5px;
  border:none;
  border-radius:5px;
  cursor:pointer;
  background:#e50914;
  color:white;
  font-weight:bold;
}

button:hover{
  background:#b20710;
}

/* NAVBAR */
.navbar{
  display:flex;
  justify-content:space-between;
  padding:15px;
  background:black;
  align-items:center;
}

.logo{
  font-size:22px;
  font-weight:bold;
  color:#e50914;
}

.search{
  padding:8px;
  border-radius:5px;
  border:none;
}

/* MOVIES */
.movies{
  display:flex;
  flex-wrap:wrap;
  padding:20px;
  gap:20px;
}

.card{
  background:#222;
  width:200px;
  padding:10px;
  border-radius:8px;
  transition:0.3s;
}

.card:hover{
  transform:scale(1.05);
}

.addBtn{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#e50914;
  padding:15px;
  border-radius:50%;
  font-size:20px;
}

#homePage{display:none;}
#loginPage{display:block;}
#adminPasswordField{display:none;}
</style>
</head>

<body>

<!-- LOGIN PAGE -->
<div id="loginPage" class="center">
  <div class="box">
    <h2>Wiperia Sanimation</h2>

    <div id="choice">
      <button onclick="selectMode('normal')">Normal Üyelik</button>
      <button onclick="selectMode('admin')">Admin</button>
    </div>

    <div id="loginArea" style="display:none;">
      <input id="username" placeholder="Kullanıcı Adı">
      <input id="password" type="password" placeholder="Şifre">
      <div id="adminPasswordField">
        <input id="adminPassword" type="password" placeholder="Admin Şifresi">
      </div>
      <button onclick="login()">Giriş Yap</button>
    </div>

    <div id="message"></div>
  </div>
</div>

<!-- HOME PAGE -->
<div id="homePage">

  <div class="navbar">
    <div class="logo">Wiperia</div>
    <input class="search" id="searchInput" placeholder="Film Ara..." onkeyup="searchMovie()">
  </div>

  <div class="movies" id="movieList"></div>

  <button id="addMovieBtn" class="addBtn" onclick="addMovie()" style="display:none;">+</button>

</div>

<script>

let users = JSON.parse(localStorage.getItem("users")) || {};
let movies = JSON.parse(localStorage.getItem("movies")) || [];
let mode = "normal";

function selectMode(selected){
  mode = selected;
  document.getElementById("choice").style.display="none";
  document.getElementById("loginArea").style.display="block";
  if(mode==="admin"){
    document.getElementById("adminPasswordField").style.display="block";
  }
}

function login(){
  let u=username.value;
  let p=password.value;
  let ap=document.getElementById("adminPassword").value;

  if(!users[u]){
    users[u]=p;
    localStorage.setItem("users",JSON.stringify(users));
  }else{
    if(users[u]!==p){
      alert("Şifre yanlış!");
      return;
    }
  }

  if(mode==="admin"){
    if(ap!=="ZeFrEt629"){
      alert("Admin şifresi yanlış!");
      return;
    }
    document.getElementById("addMovieBtn").style.display="block";
  }

  document.getElementById("loginPage").style.display="none";
  document.getElementById("homePage").style.display="block";
  renderMovies();
}

function renderMovies(){
  let list=document.getElementById("movieList");
  list.innerHTML="";
  movies.forEach((m,i)=>{
    list.innerHTML+=`
      <div class="card">
        <h3>${m}</h3>
      </div>
    `;
  });
}

function addMovie(){
  let name=prompt("Film adı:");
  if(name){
    movies.push(name);
    localStorage.setItem("movies",JSON.stringify(movies));
    renderMovies();
  }
}

function searchMovie(){
  let val=document.getElementById("searchInput").value.toLowerCase();
  let cards=document.querySelectorAll(".card");
  cards.forEach(c=>{
    c.style.display=c.innerText.toLowerCase().includes(val)?"block":"none";
  });
}

</script>

</body>
</html>
