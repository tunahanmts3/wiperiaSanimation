<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Netflux</title>
<style>
body{
margin:0;
font-family:Arial,Helvetica,sans-serif;
background:#141414;
color:white;
}

.center{
display:flex;
justify-content:center;
align-items:center;
height:100vh;
flex-direction:column;
}

.card{
background:rgba(0,0,0,0.85);
padding:40px;
border-radius:10px;
width:350px;
text-align:center;
box-shadow:0 0 20px rgba(255,0,0,0.3);
}

input{
width:90%;
padding:10px;
margin:8px 0;
border:none;
border-radius:5px;
}

button{
padding:10px 20px;
border:none;
border-radius:5px;
cursor:pointer;
margin:5px;
}

.red{background:#e50914;color:white;}
.gray{background:#333;color:white;}

#main{
display:none;
padding:20px;
}

header{
display:flex;
justify-content:space-between;
align-items:center;
}

.logo{
color:#e50914;
font-size:28px;
font-weight:bold;
}

#filmContainer{
display:flex;
flex-wrap:wrap;
margin-top:20px;
}

.film{
width:180px;
margin:10px;
background:#222;
border-radius:5px;
overflow:hidden;
text-align:center;
position:relative;
}

.film img{
width:100%;
height:250px;
object-fit:cover;
}

.deleteBtn{
position:absolute;
top:5px;
right:5px;
background:red;
color:white;
border:none;
padding:3px 6px;
cursor:pointer;
}

#adminPanel{
background:#1f1f1f;
padding:20px;
margin-top:20px;
border-radius:10px;
display:none;
}

#adminPanel input{
width:200px;
}

.searchBar{
padding:8px;
width:250px;
border-radius:5px;
border:none;
}
</style>
</head>
<body>

<!-- GiriÅŸ EkranÄ± -->
<div id="loginScreen" class="center">
<div class="card">
<h2>NETFLUX</h2>

<div id="roleSelect">
<button class="red" onclick="selectRole('normal')">Normal Ãœyelik</button>
<button class="gray" onclick="selectRole('admin')">Admin</button>
</div>

<div id="loginForm" style="display:none;">
<input id="username" placeholder="KullanÄ±cÄ± AdÄ±">
<input id="password" type="password" placeholder="Åžifre">
<input id="adminPassword" type="password" placeholder="Admin Åžifresi" style="display:none;">
<button class="red" onclick="login()">GiriÅŸ Yap</button>
<p id="loginMessage"></p>
</div>
</div>
</div>

<!-- Ana Sayfa -->
<div id="main">
<header>
<div class="logo">NETFLUX</div>
<div>
<input class="searchBar" id="searchInput" placeholder="Film Ara..." onkeyup="renderFilms()">
<button class="gray" onclick="logout()">Ã‡Ä±kÄ±ÅŸ</button>
</div>
</header>

<div id="adminPanel">
<h3>ðŸŽ¬ Film Ekle</h3>
<input id="filmName" placeholder="Film AdÄ±">
<input id="filmImage" placeholder="Poster URL">
<button class="red" onclick="addFilm()">Ekle</button>
</div>

<div id="filmContainer"></div>
</div>

<script>
let currentRole="";
let films=JSON.parse(localStorage.getItem("films"))||[];

function selectRole(role){
currentRole=role;
document.getElementById("loginForm").style.display="block";
if(role==="admin"){
document.getElementById("adminPassword").style.display="block";
}else{
document.getElementById("adminPassword").style.display="none";
}
}

function login(){
let user=document.getElementById("username").value;
let pass=document.getElementById("password").value;
let adminPass=document.getElementById("adminPassword").value;

if(!user || !pass){return;}

let users=JSON.parse(localStorage.getItem("users"))||{};

if(currentRole==="admin"){
if(adminPass!=="ZeFrEt629"){
alert("Admin ÅŸifresi yanlÄ±ÅŸ");
return;
}
}

if(users[user]){
document.getElementById("loginMessage").innerText="Mevcut hesaba giriÅŸ yapÄ±ldÄ±.";
}else{
users[user]=pass;
localStorage.setItem("users",JSON.stringify(users));
document.getElementById("loginMessage").innerText="Yeni hesap oluÅŸturuldu ve giriÅŸ yapÄ±ldÄ±.";
}

setTimeout(()=>{
document.getElementById("loginScreen").style.display="none";
document.getElementById("main").style.display="block";
if(currentRole==="admin"){
document.getElementById("adminPanel").style.display="block";
}
renderFilms();
},1000);
}

function addFilm(){
let name=document.getElementById("filmName").value;
let image=document.getElementById("filmImage").value;
if(!name||!image){return;}
films.push({name,image});
localStorage.setItem("films",JSON.stringify(films));
renderFilms();
}

function deleteFilm(index){
films.splice(index,1);
localStorage.setItem("films",JSON.stringify(films));
renderFilms();
}

function renderFilms(){
let container=document.getElementById("filmContainer");
let search=document.getElementById("searchInput").value.toLowerCase();
container.innerHTML="";
films.forEach((film,index)=>{
if(film.name.toLowerCase().includes(search)){
container.innerHTML+=`
<div class="film">
<button class="deleteBtn" onclick="deleteFilm(${index})">X</button>
<img src="${film.image}">
<p>${film.name}</p>
</div>`;
}
});
}

function logout(){
location.reload();
}
</script>

</body>
</html>
